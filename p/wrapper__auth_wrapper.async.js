"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[688],{51561:function(K,P,a){a.d(P,{WC:function(){return S},UC:function(){return O},F9:function(){return M},fb:function(){return I},bT:function(){return W},lx:function(){return g},XB:function(){return L},M2:function(){return z}});var D=a(35290),s=a.n(D),R=a(411),p=a.n(R),T=a(58482),b=a.n(T),f=a(9189),j=a.n(f),w=a(93275),c=a.n(w),d=a(13183),l=a(10367),U=a(70523),o=d.Z.create({baseURL:"https://laikecc.xyz",withCredentials:!0}),B=b()(function n(u,e){j()(this,n),c()(this,"selfEx",!0),c()(this,"code",void 0),c()(this,"msg",void 0),this.code=u,this.msg=e});o.interceptors.response.use(function(){var n=p()(s()().mark(function u(e){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(e.data),e.data.code==0){r.next=7;break}if(e.data.code!=4003){r.next=5;break}return U.m8.push("/login"),r.abrupt("return",Promise.reject("login required"));case 5:return l.FN.show(e.data.error_msg),r.abrupt("return",Promise.reject(new B(e.data.code,e.data.msg)));case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}},u)}));return function(u){return n.apply(this,arguments)}}(),function(){var n=p()(s()().mark(function u(e){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("listen error"),console.log(e),!e.selfEx){r.next=5;break}return l.FN.show(e.msg),r.abrupt("return",Promise.reject(e));case 5:return l.FN.show("\u7F51\u7EDC\u9519\u8BEF"),r.abrupt("return",Promise.reject(e));case 7:case"end":return r.stop()}},u)}));return function(u){return n.apply(this,arguments)}}());function I(n){return m.apply(this,arguments)}function m(){return m=p()(s()().mark(function n(u){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("/api/p/poetry/get/"+u,{});case 2:return t.abrupt("return",t.sent.data.result);case 3:case"end":return t.stop()}},n)})),m.apply(this,arguments)}function g(n){return v.apply(this,arguments)}function v(){return v=p()(s()().mark(function n(u){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/api/p/user/login",u);case 2:return t.abrupt("return",t.sent.data.result);case 3:case"end":return t.stop()}},n)})),v.apply(this,arguments)}function L(){return _.apply(this,arguments)}function _(){return _=p()(s()().mark(function n(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("/api/p/user/logout",{});case 2:return e.abrupt("return",e.sent.data.result);case 3:case"end":return e.stop()}},n)})),_.apply(this,arguments)}function M(){return E.apply(this,arguments)}function E(){return E=p()(s()().mark(function n(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("/api/p/user/me",{});case 2:return e.abrupt("return",e.sent.data.result);case 3:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function C(){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function n(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,API_CLI_INS.post("/api/p/user/me/required",{});case 2:return e.abrupt("return",e.sent.data.result);case 3:case"end":return e.stop()}},n)})),A.apply(this,arguments)}function S(n){return y.apply(this,arguments)}function y(){return y=p()(s()().mark(function n(u){var e;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={},Object.assign(e,u),e.trigger_time=u.trigger_time.getTime(),r.next=5,o.post("/api/p/sch/add",e);case 5:return r.abrupt("return",r.sent.data.result);case 6:case"end":return r.stop()}},n)})),y.apply(this,arguments)}function O(n){return h.apply(this,arguments)}function h(){return h=p()(s()().mark(function n(u){var e;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={id:u},r.next=3,o.post("/api/p/sch/done",e);case 3:return r.abrupt("return",r.sent.data.result);case 4:case"end":return r.stop()}},n)})),h.apply(this,arguments)}function W(n){return i.apply(this,arguments)}function i(){return i=p()(s()().mark(function n(u){var e;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={id:u},r.next=3,o.post("/api/p/sch/get",e);case 3:return r.abrupt("return",r.sent.data.result);case 4:case"end":return r.stop()}},n)})),i.apply(this,arguments)}function z(n){return $.apply(this,arguments)}function $(){return $=p()(s()().mark(function n(u){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/api/p/msg/send",u);case 2:return t.abrupt("return",t.sent.data.result);case 3:case"end":return t.stop()}},n)})),$.apply(this,arguments)}},85621:function(K,P,a){a.r(P);var D=a(35290),s=a.n(D),R=a(411),p=a.n(R),T=a(46686),b=a.n(T),f=a(70523),j=a(51561),w=a(10367),c=a(93236),d=a(70134),l=a(62086),U=function(B){var I=c.useState(),m=b()(I,2),g=m[0],v=m[1],L=c.useState(!0),_=b()(L,2),M=_[0],E=_[1],C=(0,f.TH)(),A="/login?redirect_path="+encodeURI(C.pathname+C.search),S=function(){var y=p()(s()().mark(function O(){var h;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(C.pathname),i.prev=1,i.next=4,(0,j.F9)();case 4:h=i.sent,v(h),i.next=10;break;case 8:i.prev=8,i.t0=i.catch(1);case 10:E(!1);case 11:case"end":return i.stop()}},O,null,[[1,8]])}));return function(){return y.apply(this,arguments)}}();return c.useEffect(function(){S()},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.rs,{children:[(0,l.jsx)(d.JZ,{condition:M,children:(0,l.jsx)(w.k_,{})}),(0,l.jsx)(d.JZ,{condition:!M&&(g==null?void 0:g.uid),children:(0,l.jsx)(f.j3,{})}),(0,l.jsx)(d.gA,{children:(0,l.jsx)(f.Fg,{to:A})})]})})};P.default=U}}]);
